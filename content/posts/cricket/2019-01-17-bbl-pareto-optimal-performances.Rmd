---
title: BBL Pareto-Optimal Performances
author: Tim Newans
date: '2019-01-17'
slug: bbl-pareto-optimal-performances
categories:
  - cricket
tags:
  - rstats 
  - pareto-optimal
lastmod: '2019-01-17T13:01:58+10:00'
---
```{r setup, include=FALSE}
library(ggplot2)
library(dplyr)
library(hrbrthemes)
library(extrafont)
library(rPref)
library(effects)
library(stringr)
library(stringi)
library(DT)

## Batting Data
bats <- read.csv('C:/Users/Newans/pointninefour/static/bblbat.csv')
bats$SR <- (as.numeric(bats$R) / as.numeric(bats$B)*100)
bats$Boundaries <- (as.numeric(bats$X4s) + as.numeric(bats$X6s))
bats$Dismissed <- ifelse(grepl("not out", bats$Dismissal), "Not Out", "Out")
bats$Batter <- str_trim(str_extract(bats$Batsman, "^[a-zA-Z '-]*"))
dismissed <- bats %>%
  filter(Dismissed != 'Not Out')

## Bowling Data
bowl <- read.csv('C:/Users/Newans/pointninefour/static/bblbowl.csv')
bowl$Overs <- as.numeric(substr(bowl$O,1,1))
bowl$BallinOver <- as.numeric(substr(bowl$O,3,3))
bowl$BallinOver[is.na(bowl$BallinOver)] <- 0
bowl$Balls <- bowl$Overs * 6 + bowl$BallinOver
```




```{r}
BatInnPareto <- psel(bats %>% filter(R > 0),high(R)*high(SR))
BatInnPareto <- BatInnPareto %>% 
                  select(Batter, Season, Season.Match.No,R,B,SR)%>%
                  arrange(desc(R))
datatable(BatInnPareto, 
          rownames = FALSE,
          colnames = c('Batsman','Season','Match','Runs','Balls','Strike Rate'),
          caption = 'Table 1: Pareto-Optimal BBL Batting Innings.',
          options = list(dom = 't',pageLength = 15)) %>%
  formatRound('SR',2)
```

``` {r}
sumbat <- group_by(bats, Batter) %>%
  summarise(TotalRuns = sum(R), TotalBalls = sum(B), Innings = n())
dismissals <- group_by(bats, Batter) %>% 
  filter(Dismissed == "Out") %>%
  summarise(Dismissals = n())
sumbat <- left_join(sumbat,dismissals, by = "Batter")
sumbat$Dismissals[is.na(sumbat$Dismissals)] <- 0
sumbat$Average <- sumbat$TotalRuns / sumbat$Dismissals
sumbat$StrikeRate <- sumbat$TotalRuns /sumbat$TotalBalls*100
BatCarPareto <- psel(sumbat %>% filter(Innings > 5),high(Average)*high(StrikeRate))
BatCarPareto <- BatCarPareto %>% 
                  select(Batter,TotalRuns,TotalBalls,Innings,Average,StrikeRate)%>%
                  arrange(desc(Average))
datatable(BatCarPareto, 
          rownames = FALSE,
          colnames = c('Batsman','Runs','Balls','Innings','Average','Strike Rate'),
          caption = 'Table 2: Pareto-Optimal BBL Career Batting.',
          options = list(dom = 't',pageLength = 10)) %>%
  formatRound(5:6,2)
```

``` {r}
BowlInnPareto <- psel(bowl, high(W)*low(Econ)) %>% 
  arrange(desc(W)) %>% 
  select(Bowling, Season, Season.Match.No, O, W, R, Econ)
datatable(BowlInnPareto,
          rownames = FALSE,
          colnames = c('Bowler','Season','Match','Overs','Wickets','Runs','Economy'),
          caption = 'Table 3: Pareto-Optimal BBL Bowling Innings.',
          options = list(dom = 't'))
```

```{r, warning=FALSE}
sumBowl <- bowl %>% 
  group_by(Bowling) %>%
  summarise(Innings = n(),Balls = sum(Balls), Wickets = sum(W), Runs = sum(R)) %>%
  filter(Wickets >= 10) %>%
  arrange(desc(Wickets))
sumBowl$Average <- sumBowl$Runs/sumBowl$Wickets
sumBowl$Economy <- sumBowl$Runs/sumBowl$Balls*6
sumBowl$StrikeRate <- sumBowl$Balls/sumBowl$Wickets
BowlCarPareto <- psel(sumBowl %>% 
                         select(Bowling,Wickets,Runs,Balls,Average,Economy,StrikeRate), 
                         low(Average)*low(Economy)*low(StrikeRate))
datatable(BowlCarPareto, 
          rownames = FALSE,
          colnames = c('Bowler','Wickets','Runs','Balls','Average','Economy','Strike Rate'),
          caption = 'Table 4: Pareto-Optimal BBL Career Bowling.',
          options = list(dom = 't')) %>%
    formatRound(5:7,2)
```

**Insert Lead paragraph here.**

A augue nunc lacus auctor efficitur tempor placerat, dictum volutpat mi vitae viverra porta non sem, himenaeos senectus vivamus potenti cubilia sollicitudin. Curae cursus inceptos tincidunt magna mi nibh ad enim etiam, molestie eu quis primis hendrerit taciti phasellus. Feugiat ultricies dictumst iaculis potenti odio laoreet urna at, ultrices curae leo accumsan proin sem lobortis. 

## Heading 2

Sollicitudin ornare odio blandit aenean enim lacus accumsan elementum vestibulum porta mauris lorem, ullamcorper class fermentum sem hendrerit ante augue penatibus scelerisque felis leo proin,ad nascetur venenatis sodales dignissim viverra suspendisse turpis convallis condimentum sapien.

### Heading 3

At quisque litora ullamcorper maecenas ultricies ut dignissim luctus curabitur, cras congue eget primis aliquam fringilla nulla dictum posuere, vestibulum sit magnis nisl praesent eros ipsum nunc. Ligula lacus ipsum orci aenean integer pharetra habitasse interdum, porttitor etiam hac feugiat placerat morbi posuere turpis leo, quam at amet gravida commodo fringilla erat.
